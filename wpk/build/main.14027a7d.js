webpackJsonp([1,0],[function(t,e,n){n(2),n(1),n(3),console.log("done")},function(t,e){},function(t,e){},function(t,e){var n=window.DRmkt_Tool||{};!function(){n.common={getThePosition:function(t){for(var e=t.offsetLeft,n=t.offsetTop;t.offsetParent&&"BODY"!==t.offsetParent.nodeName;)t=t.offsetParent,"fixed"==t.style.position&&(t.style.position="fixed"),e+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop;return{x:e,y:n}},positionTheDom:function(t,e){var n=document,o=n.body.offsetHeight,i=n.body.offsetWidth,s=$(t).height(),a=$(t).width(),r=this.getThePosition(e),c=r.y,l=r.x,h=e.offsetHeight,u=e.offsetWidth,f=i-l>a?l:l+u+2-a,d=o-c-h>s?c+h-1:c-s;f=0>f?0:f,d=0>d?0:d,t.style.left=f+"px",t.style.top=d+"px"},touchFunc:function(t,e,n){var o={x:5,y:5,sx:0,sy:0,ex:0,ey:0},i=0,s=0;e=e.toLowerCase(),t.addEventListener("touchstart",function(t){i=(new Date).getTime(),o.sx=event.targetTouches[0].pageX,o.sy=event.targetTouches[0].pageY,o.ex=o.sx,o.ey=o.sy,-1!=e.indexOf("start")&&n(t)},!1),t.addEventListener("touchmove",function(t){event.preventDefault(),o.ex=event.targetTouches[0].pageX,o.ey=event.targetTouches[0].pageY,-1!=e.indexOf("tomove")&&n(t)},!1),t.addEventListener("touchend",function(t){var a=o.sx-o.ex,r=o.sy-o.ey;Math.abs(a)>Math.abs(r)&&Math.abs(r)>o.y?a>0?-1!=e.indexOf("toleft")&&n(t):-1!=e.indexOf("toright")&&n(t):Math.abs(r)>Math.abs(a)&&Math.abs(a)>o.x?r>0?-1!=e.indexOf("totop")&&n(t):-1!=e.indexOf("todown")&&n(t):Math.abs(a)<o.x&&Math.abs(r)<o.y&&(s=(new Date).getTime(),s-i>300?-1!=e.indexOf("tap")&&n(t):-1!=e.indexOf("click")&&n(t)),-1!=e.indexOf("end")&&n(t)},!1)}};var t=n.hideLoading=function(t,e){this.point=t,this.loading=e};t.prototype={init:function(t){var e=this.point[0],n=this;e.complete?n.hideLoad(t):e.onload=function(){e.onload=null,n.hideLoad(t)}},hideLoad:function(t){var e=this;setTimeout(function(){e.loading.fadeOut(600),t&&setTimeout(t,50)},200)}};var e=n.progressBar=function(t){this.container=t,this.imgNum=0,this.createBar()};e.prototype={pres:$("<div>"),texbox:$("<p>"),createBar:function(){var t=this.pres,e=this.texbox,n=$("<div>").css({width:"100%",border:"1px solid #ccc",borderRadius:"5px"});t.css({transition:"all 0.4s ease 0.1s",boxShadow:"1px 1px 1px #333 inset",height:"10px",borderRadius:"5px",background:"#16a"}),e.css({textAlign:"center",fontSize:"1em"}),n.append(t),this.container.append(n),this.container.append(e)},imgDone:function(t){this.imgNum++;var e=Math.floor(this.imgNum/t*100)+"%",n=this;this.pres.width(e),this.texbox.text(e),this.imgNum===t&&setTimeout(function(){n.container.fadeOut()},600)},loadimgs:function(t){for(var e=this,n=0,o=t.length;o>n;n++){var i=document.createElement("img");i.src=t[n],i.onerror=function(t){e.texbox.text("网络出现问题，请稍后再试")},i.complete?this.imgDone(o):i.onload=function(){e.imgDone(o)}}}};var o=n.accelerationGravityManage=function(){};o.prototype={slantController:function(t){function e(t){var e=(new Date).getTime(),a=e-s;if(a>o){s=e;var r=+t.alpha,c=+t.beta,l=+t.gamma;if(Math.abs(c)>n||Math.abs(l)>n){var h={alpha:r,beta:c,gamma:l};i&&i(h)}}}var n=t.threshold||7,o=t.inter||1e3/60,i=t.callback;window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",e,!1);var s=0},shakeController:function(t){function e(t){var e=t.accelerationIncludingGravity;if(curTime=(new Date).getTime(),diffTime=curTime-s,diffTime>o){s=curTime,a=e.x,y=e.y,z=e.z;var r=Math.abs(a+y+z-last_x-last_y-last_z)/diffTime*1e4;if(r>n){var c={x:a,y:y,z:z};i&&i(c)}last_x=a,last_y=y,last_z=z}}var n=t.threshold||2e3,o=t.inter||1e3/60,i=t.callback,s=0,a=y=z=last_x=last_y=last_z=0;window.DeviceMotionEvent&&window.addEventListener("devicemotion",e,!1)}};var i=n.SwipeLeftRight=function(t){this.roles=t.roles,this.loop=t.loop||!1,this.autoPlay=t.autoPlay||!1,this.interval=t.interval||4e3,this.deg=360/this.roles.length,this.preventDefaultOfZepto(),this.styleTheSec()};i.prototype={styleTheSec:function(){var t=this.roles,e=this.deg,n=t.width(),o=n/2/Math.tan(e/2/180*Math.PI);t.each(function(t,n){$(n).css({"-webkit-transform":"rotateY("+t*e+"deg) translateZ("+o+"px)"})})},bindSwipe:function(t){function e(){var t=null;a(_con,"toleft",function(){return i(-1),!1}),a(_con,"toright",function(){return i(1),!1}),s.autoPlay&&(t=setInterval(function(){i(-1)},s.interval)),a(_con,"tostart",function(){clearInterval(t)})}function o(){a(_con,"toleft",function(){return nmb>-s.roles.length+1&&i(-1),!1}),a(_con,"toright",function(){return nmb<0&&i(1),!1})}function i(e){if(nmb+=e,_box.css({"-webkit-transform":"rotateY("+nmb*s.deg+"deg)"}),t){var n=nmb%s.roles.length;n=n>=0?n:-n,setTimeout(function(){t(n)},600)}}var s=this,a=n.common.touchFunc;_con=document,_box=this.roles.parent(),nmb=0,this.loop?e():o()},preventDefaultOfZepto:function(){var t=n.common.touchFunc;t(document,"tomove",function(t){t.preventDefault()})}};var s=n.swipeUpDown=function(t){this.roles=t.roles,this.loop=t.loop||!1,this.autoPlay=t.autoPlay||!1,this.interval=t.interval||4e3,this.deg=360/this.roles.length,this.preventDefaultOfZepto(),this.styleTheSec()};s.prototype={styleTheSec:function(){var t=this.roles,e=t.length,n=this.deg,o=t.height(),i=o/2/Math.tan(n/2/180*Math.PI);t.each(function(t,o){$(o).css({"-webkit-transform":"rotateX("+(e-t)*n+"deg) translateZ("+i+"px)"})})},bindSwipe:function(t){function e(){var t=null;a(_con,"todown",function(){return i(-1),!1}),a(_con,"totop",function(){return i(1),!1}),s.autoPlay&&(t=setInterval(function(){i(1)},s.interval)),a(_con,"start",function(){clearInterval(t)})}function o(){a(_con,"todown",function(){return nmb>0&&i(-1),!1}),a(_con,"totop",function(){return nmb<s.roles.length-1&&i(1),!1})}function i(e){if(nmb+=e,_box.css({"-webkit-transform":"rotateX("+nmb*s.deg+"deg)"}),t){var n=nmb%s.roles.length;n=n>=0?n:-n,setTimeout(function(){t(n)},600)}}var s=this,a=n.common.touchFunc;_con=document,_box=this.roles.parent(),nmb=0,this.loop?e():o()},preventDefaultOfZepto:function(){var t=n.common.touchFunc;t(document,"tomove",function(t){t.preventDefault()})}};var a=n.inputVerify=function(){};a.prototype={phoneReg:/^(13|15|17|18)\d{9}$/,emailReg:/^([\w-.]+@([\w-]+\.)+[\w]{2,6})$/,passwordReg:/^.*([0-9].*[a-zA-Z]|[a-zA-Z].*[0-9]).*$/,checkForm:function(t,e){switch(t){case"email":if(e){if(e.match(this.emailReg))return!0;this.showErrorMsg("电子邮件地址有误")}else this.showErrorMsg("电子邮件不能为空");break;case"phone":if(e){if(e.match(this.phoneReg))return!0;this.showErrorMsg("手机号格式不正确，请重新输入")}else this.showErrorMsg("手机号不能为空");break;case"password":if(e){if(e.match(this.passwordReg))return!0;this.showErrorMsg("密码须为8个以上字符和数字组合")}else this.showErrorMsg("密码不能为空")}},isInputEmpty:function(t){var e=-1;return t.each(function(t,n){var o=$.trim($(n).val());return e=t,o?void 0:!1}),t.length-1===e?!0:(this.showErrorMsg("请填写完整"),!1)},showErrorMsg:function(t,e){var e=e||$(".errorMsg");e.text(t).show(),setTimeout(function(){e.hide()},3e3)}};var r=n.SelectList=function(t,e){this.inputDom=t,this.listObj=e,this.panel=null};r.prototype={draw:function(t){var e=this.panel=this.creatList(t);e.style.width=this.inputDom.clientWidth+"px",n.common.positionTheDom(e,this.inputDom),document.body.appendChild(e),e.style.display="block",this.hide(e)},creatList:function(t){var e=this.listObj,n="",o=document.getElementById("_select-list");o||(o=document.createElement("ul"),o.id="_select-list");for(var i=0,s=e.length;s>i;i++){var a=e[i];n+='<li><span class="dib ell">'+a+"</span></li>"}return o.innerHTML=n,this.bindListEvent(o,t),o},bindListEvent:function(t,e){for(var n=this,o=t.getElementsByTagName("li"),i=0,s=o.length;s>i;i++)o[i].onclick=function(t){var o=n.inputDom,i=this.getElementsByTagName("span")[0].innerHTML;o.value=i,this.parentNode.style.display="none",e&&e(i)}},hide:function(t){$(t).mouseleave(function(){$(this).hide(),this.style.position="absolute"})}};var c=n.insertWXSDK=function(t){this.debug=t.debug||!1,this.link=t.link||location.href,this.imgUrl=t.imgUrl,this.momentsTitle=t.momentsTitle,this.chatTitle=t.chatTitle,this.description=t.description,this.callback=t.callback||null,this.loadSDK()};c.prototype={loadSDK:function(){var t=this,e=document.createElement("script");e.src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js",e.id="wxsdk"+Math.floor(1e4*Math.random()),document.body.appendChild(e),e.onload=function(){t.doConfig()}},doConfig:function(){var t=this;$.ajax({dataType:"json",data:{name:location.pathname,https:0===location.protocol.indexOf("https"),force:!1,url:location.href.indexOf("#")<0?location.href:location.href.substring(0,location.href.indexOf("#"))},url:"/nb/api/public/wechat-signature",success:function(e){console.log(e);var n=e.content;wx.config({debug:t.debug,appId:"wxe45fefedfefad15a",timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){console.log("sign signature finished....");var e={imgUrl:t.imgUrl,link:t.href,success:function(e){debug&&alert("share on moments finished"),t.callback&&t.callback()}},n=$.extend({title:t.momentsTitle},e),o=$.extend({title:t.chatTitle,desc:t.description},e);wx.onMenuShareTimeline(n),wx.onMenuShareAppMessage(o)}),wx.error(function(t){debug&&alert(t?"err: "+JSON.stringify(t):"ok")})},error:function(){console.log("wx fail")}})}}}()}]);